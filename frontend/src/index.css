/**
 * ═══════════════════════════════════════════════════════════════════════════════
 * CareerQuest: The Apocalypse
 * Global Styles - The Visual Codex
 * ═══════════════════════════════════════════════════════════════════════════════
 */

/* ═══════════════════════════════════════════════════════════════════════════════
   GOOGLE FONTS IMPORT - The Sacred Typography
   ═══════════════════════════════════════════════════════════════════════════════ */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&family=MedievalSharp&display=swap');

/* ═══════════════════════════════════════════════════════════════════════════════
   TAILWIND DIRECTIVES
   ═══════════════════════════════════════════════════════════════════════════════ */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════════════════════════
   CSS CUSTOM PROPERTIES - The Realm's Constants
   ═══════════════════════════════════════════════════════════════════════════════ */
:root {
  /* Transition speeds */
  --transition-fast: 150ms;
  --transition-normal: 300ms;
  --transition-slow: 500ms;

  /* Z-index layers */
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-modal: 300;
  --z-overlay: 400;
  --z-toast: 500;

  /* Border styles for RPG elements */
  --border-stone: 3px solid #3f4146;
  --border-gold: 2px solid #f59e0b;
  --border-parchment: 2px solid #d4b76b;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   BASE LAYER - Foundation of the Realm
   ═══════════════════════════════════════════════════════════════════════════════ */
@layer base {
  /* HTML & Body setup */
  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-dungeon-900 text-parchment-100 font-inter antialiased;
    @apply m-0 min-h-screen;
    background-image: 
      radial-gradient(ellipse at top, rgba(45, 47, 51, 0.8) 0%, transparent 50%),
      radial-gradient(ellipse at bottom, rgba(26, 27, 30, 1) 0%, rgba(13, 14, 16, 1) 100%);
  }

  #root {
    @apply min-h-screen;
  }

  /* Selection styling */
  ::selection {
    @apply bg-gold-500/30 text-gold-100;
  }

  /* Scrollbar styling (WebKit) */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-dungeon-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-dungeon-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-dungeon-500;
  }

  /* Headings */
  h1, h2, h3, h4, h5, h6 {
    @apply font-cinzel font-bold tracking-wide;
  }

  h1 {
    @apply text-4xl md:text-5xl text-gold-400;
  }

  h2 {
    @apply text-3xl md:text-4xl text-gold-500;
  }

  h3 {
    @apply text-2xl md:text-3xl text-parchment-200;
  }

  h4 {
    @apply text-xl md:text-2xl text-parchment-300;
  }

  /* Links */
  a {
    @apply text-mana-400 hover:text-mana-300 transition-colors duration-200;
  }

  /* Focus styles for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-gold-500 ring-offset-2 ring-offset-dungeon-900;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   COMPONENT LAYER - Reusable RPG Elements
   ═══════════════════════════════════════════════════════════════════════════════ */
@layer components {
  /* ─────────────────────────────────────────────────────────────────────────────
     Parchment Card - Ancient scroll/paper look
     ───────────────────────────────────────────────────────────────────────────── */
  .parchment-card {
    @apply bg-parchment-100 text-dungeon-900 rounded-scroll p-6;
    @apply border-2 border-parchment-600;
    @apply shadow-parchment;
    background-image: 
      url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E"),
      linear-gradient(180deg, #f9f5eb 0%, #f3ead4 50%, #e8d9b4 100%);
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Dungeon Card - Dark mysterious containers
     ───────────────────────────────────────────────────────────────────────────── */
  .dungeon-card {
    @apply bg-dungeon-800/90 backdrop-blur-sm text-parchment-100 rounded-scroll p-6;
    @apply border border-dungeon-600;
    @apply shadow-dungeon;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Stat Display - RPG stat boxes
     ───────────────────────────────────────────────────────────────────────────── */
  .stat-box {
    @apply bg-dungeon-800 border-2 border-dungeon-600 rounded-stone;
    @apply p-3 text-center min-w-16;
  }

  .stat-box .stat-value {
    @apply text-2xl font-bold text-gold-400 font-mono;
  }

  .stat-box .stat-label {
    @apply text-xs text-parchment-400 uppercase tracking-widest mt-1;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Progress Bars - XP, HP, Mana bars
     ───────────────────────────────────────────────────────────────────────────── */
  .progress-bar {
    @apply h-4 bg-dungeon-700 rounded-full overflow-hidden;
    @apply border border-dungeon-500;
  }

  .progress-bar-fill {
    @apply h-full transition-all duration-500 ease-out;
    @apply relative overflow-hidden;
  }

  .progress-bar-fill::after {
    content: '';
    @apply absolute inset-0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    animation: shimmer 2s infinite;
  }

  .progress-xp .progress-bar-fill {
    @apply bg-gradient-to-r from-xp-green-600 to-xp-green-400;
  }

  .progress-hp .progress-bar-fill {
    @apply bg-gradient-to-r from-hp-red-600 to-hp-red-400;
  }

  .progress-mana .progress-bar-fill {
    @apply bg-gradient-to-r from-mana-600 to-mana-400;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Badges - Achievement, Class, Level badges
     ───────────────────────────────────────────────────────────────────────────── */
  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold;
    @apply border transition-all duration-200;
  }

  .badge-gold {
    @apply bg-gold-500/20 text-gold-300 border-gold-500/50;
  }

  .badge-mana {
    @apply bg-mana-500/20 text-mana-300 border-mana-500/50;
  }

  .badge-mystic {
    @apply bg-mystic-500/20 text-mystic-300 border-mystic-500/50;
  }

  .badge-success {
    @apply bg-xp-green-500/20 text-xp-green-300 border-xp-green-500/50;
  }

  .badge-danger {
    @apply bg-hp-red-500/20 text-hp-red-300 border-hp-red-500/50;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Input Fields - RPG styled form inputs
     ───────────────────────────────────────────────────────────────────────────── */
  .input-field {
    @apply w-full px-4 py-3 rounded-stone;
    @apply bg-dungeon-800 border-2 border-dungeon-600;
    @apply text-parchment-100 placeholder-parchment-500;
    @apply focus:border-gold-500 focus:ring-0 focus:outline-none;
    @apply transition-all duration-200;
  }

  .input-field:hover:not(:focus) {
    @apply border-dungeon-500;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Quest Card - Job/Internship listing style
     ───────────────────────────────────────────────────────────────────────────── */
  .quest-card {
    @apply dungeon-card relative overflow-hidden;
    @apply hover:border-gold-500/50 hover:shadow-gold-glow/20;
    @apply transition-all duration-300 cursor-pointer;
  }

  .quest-card::before {
    content: '';
    @apply absolute top-0 left-0 w-1 h-full bg-gold-500;
    @apply transform -translate-x-full transition-transform duration-300;
  }

  .quest-card:hover::before {
    @apply translate-x-0;
  }

  /* ─────────────────────────────────────────────────────────────────────────────
     Tooltip
     ───────────────────────────────────────────────────────────────────────────── */
  .tooltip {
    @apply absolute z-50 px-3 py-2 text-sm;
    @apply bg-dungeon-800 text-parchment-200 rounded-stone;
    @apply border border-dungeon-600 shadow-dungeon;
    @apply invisible opacity-0 transition-all duration-200;
  }

  .tooltip-trigger:hover .tooltip {
    @apply visible opacity-100;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   UTILITY LAYER - Helper Classes
   ═══════════════════════════════════════════════════════════════════════════════ */
@layer utilities {
  /* Text shadows for fantasy feel */
  .text-shadow-gold {
    text-shadow: 0 0 10px rgba(245, 158, 11, 0.5);
  }

  .text-shadow-mana {
    text-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
  }

  .text-shadow-dark {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  }

  /* Gradient text */
  .text-gradient-gold {
    @apply bg-gradient-to-r from-gold-300 via-gold-500 to-gold-300 bg-clip-text text-transparent;
  }

  .text-gradient-mana {
    @apply bg-gradient-to-r from-mana-300 via-mana-500 to-mana-300 bg-clip-text text-transparent;
  }

  /* Glow effects */
  .glow-gold {
    filter: drop-shadow(0 0 8px rgba(245, 158, 11, 0.6));
  }

  .glow-mana {
    filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.6));
  }

  /* Animated border */
  .animated-border {
    background: linear-gradient(90deg, #f59e0b, #3b82f6, #a855f7, #f59e0b);
    background-size: 300% 100%;
    animation: border-flow 3s linear infinite;
  }

  /* No scrollbar utility */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   KEYFRAME ANIMATIONS
   ═══════════════════════════════════════════════════════════════════════════════ */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes border-flow {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 100% 50%;
  }
}

@keyframes pulse-glow {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   SPECIAL EFFECTS - For Victory/Defeat Overlays
   ═══════════════════════════════════════════════════════════════════════════════ */

/* Victory flash effect */
.victory-flash {
  animation: victory-flash 0.5s ease-out;
}

@keyframes victory-flash {
  0% {
    background-color: rgba(34, 197, 94, 0.3);
  }
  100% {
    background-color: transparent;
  }
}

/* Defeat shake effect */
.defeat-shake {
  animation: defeat-shake 0.6s ease-in-out;
}

@keyframes defeat-shake {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-10px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(10px);
  }
}

/* Confetti base styling (works with framer-motion) */
.confetti-piece {
  @apply absolute w-3 h-3;
  animation: confetti-fall 3s ease-out forwards;
}

@keyframes confetti-fall {
  0% {
    transform: translateY(-100vh) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}
